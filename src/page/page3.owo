<template lang="pug">
.page-3
  .top-bar 22:33
  view.message-box(name="content")
    .router-item(route="menu1" src="./src/route/menu1.owo")
    .router-item(route="menu2" src="./src/route/menu2.owo")
    .router-item(route="menu3" src="./src/route/menu3.owo")
    .router-item(route="menu4" src="./src/route/menu4.owo")
  .bottom-bar
    .bottom-bar-item(go="/view-content=menu1///true" o-class-active="this.view.content._activeName == 'menu1'")
      <svg class="ico" width="64px" height="57.79px" viewBox="0 0 1134 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M567.135757 1023.995116a608.095561 608.095561 0 0 1-308.773912-82.80182L23.945732 1014.511346l69.631668-221.403498A450.557851 450.557851 0 0 1 0 519.874444C0 237.551113 254.423402 0 567.135757 0s567.135757 237.551113 567.135756 519.874444-254.423402 504.120673-567.135756 504.120672z m0-960.980032C285.615869 63.015084 63.015084 268.61755 63.015084 519.622383 63.015084 611.167547 81.919609 709.266279 141.783939 787.688551l-40.959804 149.660825 176.12716-52.523073A561.952766 561.952766 0 0 0 567.135757 960.980032c281.519888 0 504.120673-190.352815 504.120672-441.373402S848.655645 63.015084 567.135757 63.015084z m78.768855 330.829192H330.829191a31.507542 31.507542 0 0 1 0-63.015085h315.075421a31.507542 31.507542 0 0 1 0 63.015085z m-315.075421 94.522626h220.552795a31.507542 31.507542 0 1 1 0 63.015084H330.829191a31.507542 31.507542 0 1 1 0-63.015084z" fill="#484948" /></svg>
      span 微信
    .bottom-bar-item(go="/view-content=menu2///true" o-class-active="this.view.content._activeName == 'menu2'")
      <svg t="1592358922923" class="ico" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4551" width="64" height="64"><path d="M401.082182 530.571636c-79.034182-32.768-134.656-109.474909-134.656-198.609454C266.426182 213.085091 365.381818 116.363636 486.865455 116.363636c121.530182 0 220.392727 96.721455 220.392727 215.598546 0 87.272727-53.434182 162.257455-129.768727 196.189091a507.997091 507.997091 0 0 0-78.429091-6.842182c-32.814545 0-64.930909 3.258182-96.116364 9.262545h-1.815273z m401.547636 91.461819c-22.341818-16.756364-46.219636-31.790545-70.981818-44.590546a493.847273 493.847273 0 0 0-59.810909-25.739636c64.930909-52.363636 106.775273-131.165091 106.775273-219.741091C778.612364 174.592 647.726545 46.545455 486.818909 46.545455 325.957818 46.545455 195.072 174.592 195.072 331.962182c0 92.206545 45.335273 173.847273 114.967273 226.071273-162.722909 65.303273-283.927273 212.200727-306.362182 391.866181-2.420364 19.642182-3.677091 39.703273-3.677091 59.578182h71.354182c0-17.082182 1.117091-34.304 3.211636-51.153454 26.018909-209.314909 208.523636-367.197091 424.494546-367.197091 69.352727 0 138.333091 16.616727 199.214545 48.081454 21.271273 10.984727 41.797818 23.831273 60.928 38.213818l43.426909-55.38909zM651.636364 779.636364v-69.818182h350.533818v69.818182H651.636364z m69.818181 116.363636v-69.818182h280.715637v69.818182H721.454545z m46.545455 116.363636v-69.818181h234.170182v69.818181H768z" p-id="4552" fill="#484948"></path></svg>
      span 通讯录
    .bottom-bar-item(go="/view-content=menu3///true" o-class-active="this.view.content._activeName == 'menu3'")
      <svg class="ico" width="64px" height="64.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M582.892308 299.323077L630.153846 346.584615c3.938462 3.938462 7.876923 7.876923 15.753846 11.815385 11.815385 11.815385 23.630769 23.630769 31.507693 35.446154V27.569231c-11.815385-3.938462-19.692308-7.876923-31.507693-7.876923C602.584615 7.876923 555.323077 0 512 0c-19.692308 0-39.384615 0-59.076923 3.938462-47.261538 3.938462-90.584615 15.753846-133.907692 35.446153l240.246153 240.246154 23.63077 19.692308z m63.015384-106.338462zM968.861538 283.569231c-3.938462-7.876923-11.815385-19.692308-15.753846-27.569231-23.630769-39.384615-47.261538-74.830769-82.707692-106.338462-11.815385-15.753846-27.569231-27.569231-43.323077-39.384615-35.446154-31.507692-74.830769-51.2-118.153846-70.892308v437.169231c0 3.938462 0 11.815385 3.938461 15.753846 0 15.753846 0 31.507692-3.938461 47.261539l259.938461-256zM827.076923 378.092308zM1016.123077 456.861538c-3.938462-47.261538-15.753846-90.584615-35.446154-133.907692l-240.246154 240.246154-19.692307 19.692308-43.323077 47.261538c-3.938462 3.938462-7.876923 7.876923-11.815385 15.753846-11.815385 11.815385-23.630769 23.630769-35.446154 31.507693h362.338462c3.938462-11.815385 7.876923-19.692308 7.876923-31.507693 11.815385-43.323077 15.753846-86.646154 15.753846-129.96923 3.938462-23.630769 3.938462-43.323077 0-59.076924z m-185.107692 189.046154zM389.907692 346.584615H27.569231c-3.938462 11.815385-7.876923 23.630769-7.876923 31.507693C7.876923 421.415385 0 464.738462 0 512c0 19.692308 0 39.384615 3.938462 59.076923 3.938462 47.261538 15.753846 90.584615 35.446153 133.907692l240.246154-240.246153 19.692308-19.692308L346.584615 393.846154c3.938462-3.938462 7.876923-7.876923 11.815385-15.753846 7.876923-11.815385 19.692308-19.692308 31.507692-31.507693z m-196.923077 35.446154zM413.538462 311.138462h63.015384c3.938462 0 11.815385 0 15.753846-3.938462 15.753846 0 31.507692 0 47.261539 3.938462L283.569231 55.138462c-7.876923 3.938462-19.692308 7.876923-27.569231 15.753846-39.384615 19.692308-74.830769 47.261538-106.338462 78.76923-11.815385 11.815385-27.569231 27.569231-39.384615 43.323077-27.569231 39.384615-51.2 78.769231-70.892308 118.153847h374.153847zM378.092308 196.923077zM437.169231 724.676923L393.846154 677.415385c-3.938462-3.938462-7.876923-7.876923-15.753846-11.815385-11.815385-11.815385-23.630769-23.630769-31.507693-35.446154v362.338462c11.815385 3.938462 19.692308 7.876923 31.507693 7.876923 43.323077 11.815385 86.646154 15.753846 129.96923 15.753846 19.692308 0 39.384615 0 59.076924-3.938462 47.261538-3.938462 90.584615-15.753846 133.907692-35.446153l-240.246154-240.246154-23.630769-11.815385z m-59.076923 110.276923zM55.138462 740.430769c3.938462 7.876923 11.815385 19.692308 15.753846 27.569231 23.630769 39.384615 47.261538 74.830769 82.707692 106.338462 15.753846 11.815385 27.569231 27.569231 43.323077 39.384615 35.446154 27.569231 74.830769 51.2 118.153846 70.892308V547.446154c0-3.938462 0-11.815385-3.938461-15.753846 0-15.753846 0-31.507692 3.938461-47.261539l-259.938461 256z m137.846153-94.523077zM606.523077 712.861538h-63.015385c-3.938462 0-11.815385 0-15.753846 3.938462-15.753846 0-31.507692 0-47.261538-3.938462l256 256c7.876923-3.938462 19.692308-11.815385 27.56923-15.753846 39.384615-23.630769 74.830769-47.261538 106.338462-82.707692 11.815385-11.815385 27.569231-27.569231 39.384615-43.323077 27.569231-35.446154 51.2-74.830769 70.892308-118.153846h-374.153846z m35.446154 118.153847z" /></svg>
      span 朋友圈
      img.notice(src="@|notice.png|")
    .bottom-bar-item(go="/view-content=menu4///true" o-class-active="this.view.content._activeName == 'menu4'")
      <svg class="ico" width="64px" height="64.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M951.496185 1017.958463H45.419299c-56.677805 0-44.236336-88.52387-44.236335-88.52387-1.382385-53.913034 44.236336-88.472671 44.236335-88.472671s232.39436-112.075623 265.571612-132.811406c27.033316-16.895823 39.218788-49.919476 42.85395-61.695352-78.847172-73.727226-153.495988-196.605936-153.495989-270.230762V265.582363C197.584101 135.484529 341.352192 0.010752 465.920484 0.010752h44.236335c116.22278-1.382385 269.718768 129.944236 265.520412 265.571611v110.642039c0 60.415366-50.636268 191.485989-132.043413 269.46277 3.379165 11.161483 15.513437 45.209125 43.007548 62.463344 33.126052 20.786982 264.854819 132.811405 264.854819 132.811406s45.516322 34.559637 44.133937 88.52387c0 0 12.39027 88.472671-44.133937 88.472671z m-44.133936-132.760206l-264.854819-132.760206s-66.200905-29.081295-66.200905-88.57507h0.255997v-42.597952c87.346283-52.223452 132.760206-191.997984 132.760206-263.626032V249.864128c0-99.480555-111.614828-183.447674-204.285855-183.447673H471.04043c-88.267873 0-204.285855 86.424693-204.285855 183.447673v107.774869c0 89.599059 81.099948 222.512864 154.929573 268.080385v38.194799c0 59.442576-66.354503 88.52387-66.354503 88.52387l-265.571611 132.760206c-31.794866 26.265324-22.118168 66.405703-22.118168 66.405703h861.84055s9.625499-40.140379-22.066968-66.405703z" fill="#353535" /></svg>
      span 我
</template>

<script>
  module.exports = {
    created: function () {
      // 路由器被改变事件
      owo.onViewChange = () => {
        console.log('路由被改变!')
        this.handleEvent(this, this.query('.bottom-bar'))
      }
    },
    show: function () {
      setTimeout(() => {
        this.query('.bottom-bar').style.bottom = -2 * autoScaleInfo.hideHeight + 0 + 'px'
        this.query('.message-box').style.height = autoScaleInfo.showHeight + 'px'
        document.querySelector('.top-bar').classList.add('black')
        setTimeout(() => {
          document.querySelector('.top-bar').style.display = "block"
        }, 0);
      }, 0);
    }
  }
</script>


<style lang="less">
.page-2 {
  background-color: #ededed;
}
.message-box {
  position: absolute;
  left: 0;
  right: 0;
  margin: auto;
  background-color: white;
}
.xiaoxi {
  margin: 0 5%;
  margin-top: 170px;
}
.bottom-bar {
  position: absolute;
  width: 100%;
  display: flex;
  .bottom-bar-item {
    width: 25%;
  }
  .ico {
    display: block;
    margin: 0 auto;
    width: 64px;
    height: 64px;
  }
  span {
    display: block;
    font-size: 28px;
    text-align: center;
    font-weight: bold;
    line-height: 60px;
  }
}
.active {
  color: #51b963;
  svg, path {
    fill: #51b963;
  }
}
.router-item {
  width: 100%;
  height: 100%;
  overflow: auto;
  position: relative;
}
.notice {
  position: absolute;
  left: 32%;
  right: 0;
  margin: auto;
  top: -5px;
}
</style>